<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PAPRECA hybrid off-lattice kMC/MD simulator: PAPRECA Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAPRECA hybrid off-lattice kMC/MD simulator
   &#160;<span id="projectnumber">2.0.0 (17 September 2024)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_commands.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PAPRECA Commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="commands"></a> This page contains information regarding PAPRECA commands. For details related to LAMMPS commands please visit this <a href="https://docs.lammps.org/commands_list.html#">documentation page</a>.</p>
<blockquote class="doxtable">
<p><b>Important note::</b> PAPRECA will always ignore text to the right of a "#" character. You can use "#" characters to add comments to your input files. </p>
</blockquote>
<h1><a class="anchor" id="FIX_papreca"></a>
fix papreca command</h1>
<h2><a class="anchor" id="FIX_papreca_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">fix papreca all papreca</div>
</div><!-- fragment --><h2><a class="anchor" id="FIX_papreca_description"></a>
Description</h2>
<p>LAMMPS fix command to be used in the LAMMPS input file. This command has to be utilized after defining the LAMMPS simulation box in your LAMMPS input file. The papreca fix for LAMMPS initializes and updates two neighbors lists (a half and a full) and facilitates predefined event detection and execution. Certain kMC events (e.g., diffusion, deposition) require interference (i.e., collision) checks. Therefore, a full neighbor list has to be used with such events as it guarantees that the collision can be detected when scanning through the neighbor list of either atom. On the other hand, the discovery of other kMC events (e.g., bond formation) is significantly more efficient when half lists are used (since those lists each pair of atoms once). Effectively, this is why two neighbor lists are required for PAPRECA. Please refer to the <a href="https://docs.lammps.org/Developer_par_neigh.html">LAMMPS documentation</a> for more information regarding neighbor lists.</p>
<blockquote class="doxtable">
<p><b>Note 1:</b> If you plan to use <a href="https://docs.lammps.org/special_bonds.html">special_bonds</a> in your simulation refrain from setting <b>ANY</b> of the special_bonds to zero. Setting a special_bond to zero eliminates the (1-2,1-3, or 1-4) neighbors from the neighbor lists. Please use a double number beyond the accuracy limits of a C++ double instead of zero (e.g., use "special_bonds lj 1e-100 1.0 1.0 coul 1e-100 1.0 1.0" in your input file instead of "special_bonds lj 0.0 1.0 1.0 coul 0.0 1.0 1.0" to include the 1-2 neighbors). Once again, this does not affect the computational efficiency of the MD stage but includes additional neighbor pairs in the neighbor list. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 2:</b> Consider using <a href="https://docs.lammps.org/neigh_modify.html">neigh_modify</a> command with the "every 1", "delay 0", and "check yes" options in your LAMMPS input file (where applicable). This forces LAMMPS to update the neighbors lists on every timestep and increases the accuracy of your PAPRECA run (in the expense of computational efficiency). </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="KMC_steps"></a>
kMC_steps command</h1>
<h2><a class="anchor" id="KMCsteps_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">KMC_steps N</div>
</div><!-- fragment --><ul>
<li>N = Natural number denoting the total number of kMC stages.</li>
</ul>
<h2><a class="anchor" id="KMCsteps_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">KMC_steps 10000 #Sets the total number of KMC stages to 10000</div>
</div><!-- fragment --><h2><a class="anchor" id="KMCsteps_description"></a>
Description</h2>
<p>Sets the total number of kMC stages for the PAPRECA run.</p>
<blockquote class="doxtable">
<p><b>Note:</b> This is a mandatory command. The PAPRECA simulation will not start unless the total number of kMC stages is set. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="KMC_per_MD"></a>
KMC_per_MD command</h1>
<h2><a class="anchor" id="KMC_per_MD_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">KMC_per_MD N</div>
</div><!-- fragment --><ul>
<li>N = Natural number denoting the number of KMC stages per MD stage.</li>
</ul>
<h2><a class="anchor" id="KMC_per_MD_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">KMC_per_MD 5 #This means that an MD stage will be simulated every 5 kMC stages.</div>
</div><!-- fragment --><h2><a class="anchor" id="KMC_per_MD_description"></a>
Description</h2>
<p>Sets the total number of kMC stages per MD stage for the PAPRECA run.</p>
<blockquote class="doxtable">
<p><b>Note:</b> This is a mandatory command. The PAPRECA simulation will not start unless the total number of kMC stages per MD stage is set. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="random_seed"></a>
random_seed command</h1>
<h2><a class="anchor" id="random_seed_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">random_seed N</div>
</div><!-- fragment --><ul>
<li>N = Integer number, where 0 &le; N &le; 900000000.</li>
</ul>
<h2><a class="anchor" id="random_seed_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">KMC_per_MD 19032024</div>
</div><!-- fragment --><h2><a class="anchor" id="random_seed_description"></a>
Description</h2>
<p>Defines the random seed to initialize the random number generator. PAPRECA uses the following random number generator: RANMAR (the algorithm of Marsaglia, Zaman, Tsang)[1].</p>
<blockquote class="doxtable">
<p><b>Note:</b> This is a mandatory command. The PAPRECA simulation will not start unless the random seed is set. </p>
</blockquote>
<h2><a class="anchor" id="random_seed_bibliography"></a>
Bibliography</h2>
<p>[1] James, F. "A review of pseudorandom number generators." Computer Physics Communications, vol. 60, 1990</p>
<hr  />
<h1><a class="anchor" id="sigoptions"></a>
sigmas_options command</h1>
<h2><a class="anchor" id="sigoptions_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">sigmas_options style keyword values</div>
</div><!-- fragment --><ul>
<li>style = manual or LAMMPS.</li>
</ul>
<div class="fragment"><div class="line">keyword = mix</div>
<div class="line">    mix value = geom or arithm</div>
</div><!-- fragment --><h2><a class="anchor" id="sigoptions_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">sigmas_options LAMMPS</div>
<div class="line">sigmas_options manual mix geom</div>
<div class="line">sigmas_options manual mix arithm</div>
</div><!-- fragment --><h2><a class="anchor" id="sigoptions_description"></a>
Description</h2>
<p>Defines the options related to the initialization of "sigma" (as in the Lennard-Jones potential, see <a href="https://en.wikipedia.org/wiki/Lennard-Jones_potential">here</a> ) values for the PAPRECA simulation. Note that, for events requiring collision tests (e.g., deposition events) the sigma value defines the maximum acceptable distance between two species (i.e., if d &le; sigma PAPRECA assumes that an interference exists and that atom collides) [1] , [2].</p>
<p>For style manual, the sigma values have to be manually declared in the PAPRECA input file (using sequential <a class="el" href="md_commands.html#insigma">init_sigma command</a>) for all types.</p>
<p>For style LAMMPS, the sigma values are retrieved from LAMMPS. Note that, it is necessary that your <a href="https://docs.lammps.org/pair_style.html">pair_style</a> of choice uses sigma values (e.g., <a href="https://docs.lammps.org/pair_lj.html">lj/cut/</a> and that all sigma values are properly set in the LAMMPS input file.</p>
<p>The mix keyword performs geometric or arithmetic mixing on already defined sigma values. The mixing is performed after the last <a class="el" href="md_commands.html#insigma">init_sigma command</a> line in the PAPRECA input (or right before the start of the PAPRECA run if the <a class="el" href="md_commands.html#insigma">init_sigma command</a> has not been used). Hence, it can be very useful if you wish to solely define the diagonal sigma terms. See this <a href="https://docs.lammps.org/pair_modify.html">LAMMPS documentation</a> page for more information regarding the mixing styles.</p>
<blockquote class="doxtable">
<p><b>Note:</b> The sigma values for all pairs of atom types (diagonal and cross-terms) have to be defined before the start of a PAPRECA run. The PAPRECA run will start normally even if the sigmas of all pairs of atom types have not been defined. However, the PAPRECA run will abort as soon as an interference check is performed for pairs of atom types of unknown sigma values. </p>
</blockquote>
<h2><a class="anchor" id="sigoptions_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="insigma"></a>
init_sigma command</h1>
<h2><a class="anchor" id="insigma_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">init_sigma M N K</div>
</div><!-- fragment --><ul>
<li>M = atom type of the first atom.</li>
<li>M = atom type of the second atom.</li>
<li>K = sigma value (in LAMMPS length units).</li>
</ul>
<h2><a class="anchor" id="insigma_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">init_sigma 1 3 3.4</div>
<div class="line">init_sigma 2 5 5.5</div>
</div><!-- fragment --><h2><a class="anchor" id="insigma_description"></a>
Description</h2>
<p>Defines a "sigma" value (as in the Lennard-Jones potential, see <a href="https://en.wikipedia.org/wiki/Lennard-Jones_potential">here</a> ). Note that, for events requiring collision tests (e.g., deposition events) the sigma value defines the maximum acceptable distance between two species (i.e., if d &amp;le sigma PAPRECA assumes that an interference exists and that atom collides) [1], [2].</p>
<blockquote class="doxtable">
<p><b>Note 1:</b> The sigma values for all pairs of atom types (diagonal and cross-terms) have to be defined before the start of a PAPRECA run. The PAPRECA run will start normally even if the sigmas of all pairs of atom types have not been defined. However, the PAPRECA run will abort as soon as an interference check is performed for pairs of atom types of unknown sigma values. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 2:</b> A <a class="el" href="md_commands.html#sigoptions">sigmas_options command</a> has to be present in your PAPRECA input file before you use this command. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 3:</b> This command can be used as many times as necessary in order to define all the sigmas for the PAPRECA simulation. When used multiple times, previously defined sigma values will be overwritten. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 4:</b> PAPRECA will not check if the defined sigma corresponds to atom types that exist in the simulation (i.e., defined in the LAMMPS input file). </p>
</blockquote>
<h2><a class="anchor" id="insigma_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="flutypes"></a>
fluid_atomtypes command</h1>
<h2><a class="anchor" id="flutypes_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">fluid_atomtypes N type1 type2 ... typeN</div>
</div><!-- fragment --><ul>
<li>N = Number of fluid atom types.</li>
<li>typeX = atom type.</li>
</ul>
<h2><a class="anchor" id="flutypes_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">fluid_atomtypes 4 1 2 3 4</div>
<div class="line">fluid_atomtypes 2 4 9</div>
</div><!-- fragment --><h2><a class="anchor" id="flutypes_description"></a>
Description</h2>
<p>Defines the mobile atom types for the MD stage of the PAPRECA simulation</p>
<blockquote class="doxtable">
<p><b>Note 1:</b> This is a mandatory command. The PAPRECA simulation will not start unless the fluid atom types have been defined. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 2:</b> PAPRECA will not check if the defined mobile atom types are consistent with the mobile types of the MD (LAMMPS) stage. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="frotypes"></a>
frozen_atomtypes command</h1>
<h2><a class="anchor" id="frotypes_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">frozen_atomtypes N type1 type2 ... typeN</div>
</div><!-- fragment --><ul>
<li>N = Number of frozen atom types.</li>
<li>typeX = atom type.</li>
</ul>
<h2><a class="anchor" id="frotypes_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">frozen_atomtypes 4 1 2 3 4</div>
<div class="line">frozen_atomtypes 2 4 9</div>
</div><!-- fragment --><h2><a class="anchor" id="frotypes_description"></a>
Description</h2>
<p>Defines the frozen atom types for the MD stage PAPRECA simulation.</p>
<blockquote class="doxtable">
<p><b>Note 1:</b> PAPRECA will not check if the defined frozen atom types are consistent with the mobile types of the MD (LAMMPS) stage. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 2:</b> This command is not mandatory. However, you must use this command if certain atom types are defined as frozen in your LAMMPS input file (e.g., if you used "fix freeze_atoms frozen setforce 0.0 0.0 0.0" ). See the <a href="https://docs.lammps.org/fix_setforce.html">LAMMPS documentation page</a> for more information. </p>
</blockquote>
<h2><a class="anchor" id="frotypes_defaults"></a>
Default</h2>
<p>PAPRECA will start with an empty frozen_atomtypes list if the frozen-atomtypes command is not used.</p>
<hr  />
<h1><a class="anchor" id="time_end"></a>
time_end command</h1>
<h2><a class="anchor" id="time_end_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">time_end N</div>
</div><!-- fragment --><ul>
<li>N = Positive double number denoting the desired ending time of the simulation.</li>
</ul>
<h2><a class="anchor" id="time_end_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">time_end 10</div>
</div><!-- fragment --><h2><a class="anchor" id="time_end_description"></a>
Description</h2>
<p>Sets a desired ending time for the PAPRECA run, i.e., the PAPRECA run will stop when the simulation time is equal to or greater than time_end. This command does not replace <a class="el" href="md_commands.html#KMC_steps">kMC_steps command</a>. It simply places a time limit on top of <a class="el" href="md_commands.html#KMC_steps">kMC_steps command</a>.</p>
<h2><a class="anchor" id="time_end_default"></a>
Default</h2>
<p>time_end = std::numeric_limits&lt; double &gt;::max( ). This is the maximum limit of a double number in C++. Therefore, you will never reach that number.</p>
<hr  />
<h1><a class="anchor" id="height_calculation"></a>
height_calculation command</h1>
<h2><a class="anchor" id="height_calculation_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">height_calculation style args</div>
</div><!-- fragment --><ul>
<li>style = mass_bins</li>
</ul>
<div class="fragment"><div class="line">mass_bins args = cutoff bin_width</div>
<div class="line">    cutoff = mass percentage cutoff (greater than or equal to 0.0 and smaller than pr equal to 1.0).</div>
<div class="line">    bin_width = width (in length units as defined in the LAMMPS file) of x-y bin.</div>
</div><!-- fragment --><h2><a class="anchor" id="height_calculation_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">height_calculation mass_bins 0.8 1.0</div>
</div><!-- fragment --><h2><a class="anchor" id="height_calculation_description"></a>
Description</h2>
<p>Sets up a height calculation for the PAPRECA simulation. If this command is used, the height <b>across the z-coordinate</b> is calculated before every kMC stage. This command was designed to dynamically capture the height of thin films.</p>
<p>For style mass_bins the height calculation is performed as follows: firstly, the whole simulation box is divided into x-y segments. The x-y segments span from on side to another in the x- and y- directions and have a thickness (in the z-direction) of bin_width. Secondly, the total mass of each x-y segment is calculated. Finally, a running sum of bin masses is calculated (starting from the lowermost x-y segment) and the film height is defined as the height of the first mass bin for which the running mass sum is greater that or equal to M &times; cutoff (where M is the total mass of the system at the current PAPRECA step).</p>
<h2><a class="anchor" id="height_calculation_default"></a>
Default</h2>
<p>No height calculations are performed if the user does not include this command in the PAPRECA input file.</p>
<hr  />
<h1><a class="anchor" id="desorb"></a>
desorption command</h1>
<h2><a class="anchor" id="desorb_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">desorption height style keyword values</div>
</div><!-- fragment --><ul>
<li>height = deletion height (i.e., delete atoms whose <b>z-coordinate</b> is equal to or greater than height). Units are in length units (as defined in the LAMMPS input file).</li>
<li>style = <b>gather_all</b> or <b>gather_local</b> or <b>LAMMPS_region</b>.</li>
<li>(OPTIONAL AND NOT AVAILABLE FOR STYLE <b>LAMMPS_region</b>) keyword = max <div class="fragment"><div class="line">max values = N</div>
<div class="line">    N = integer number denoting the maximum number of atoms that can be deleted at once.</div>
</div><!-- fragment --></li>
</ul>
<h2><a class="anchor" id="desorb_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">desorption 20 gather_local</div>
<div class="line">desorption 40 gather_local max 200</div>
<div class="line">desorption 50 gather_all</div>
<div class="line">desorption 50 gather_all max 100</div>
<div class="line">desorption 100 LAMMPS_region</div>
</div><!-- fragment --><h2><a class="anchor" id="desorb_description"></a>
Description</h2>
<p>This command does <b>NOT</b> set up a predefined desorption kMC event template. This command was created to assist film growth studies and is designed to delete all atoms whose <b>z-coordinate</b> is equal to or greater than height (as set in the command).</p>
<p>For styles "gather_all" and "gather_local" results must be identical. However, the choice of style might affect the efficiency of the PAPRECA run due to different implementations. See the relevant C++ function documentation for more information about these 2 different approaches: <a class="el" href="namespacePAPRECA.html#a665ebc73e5318673b86294ad2cc45360">deleteDesorbedAtoms()</a>. Also, for styles "gather_all" and "gather_local" atoms bonded to deleted atoms are also deleted. For example, if the deletion height is set to 30 and an atom is above 30 (LAMMPS length units) and bonded to another atom whose z-coordinate is 29, then, both atoms will be deleted. Bonded atoms are deleted to prevent "bond atoms missing from proc %d" errors (see <a href="https://www.afs.enea.it/software/lammps/doc17/html/Section_errors.html">LAMMPS documentation page</a>) within the MD stage of PAPRECA run. If the "max" keyword is used, then the maximum number of atoms that can be deleted at once becomes "N".</p>
<p>For style "LAMMPS_region" a wrapper (see <a class="el" href="namespacePAPRECA.html#a478025ea90d8730412bb41e492e40510">deleteAtomsInBoxRegion()</a>) around the <a href="https://docs.lammps.org/region.html">region</a> and <a href="https://docs.lammps.org/delete_atoms.html">delete_atoms</a> commands are used to delete atoms above the deletion height. Note that, unlike the "gather_all" and "gather_local" styles, the "LAMMPS_region" style will simply delete all bonded interactions (i.e., bond, angles, dihedrals, and impropers) associated with the deleted atoms, but not the bonded atoms to deleted atoms. Consider This as it may lead to instabilities to do sudden system energy change.</p>
<blockquote class="doxtable">
<p><b>Note:</b> Prior to using this command you must set up a height calculation for your PAPRECA simulation (i.e., a <a class="el" href="md_commands.html#height_calculation">height_calculation command</a> must be present in your PAPRECA above the current command line). </p>
</blockquote>
<h2><a class="anchor" id="desorb_default"></a>
Default</h2>
<p>No atom deletions (desorptions) are performed if the user does not include this command in the PAPRECA input file. Also, for styles "gather_all" and "gather_local", if the <a class="el" href="md_commands.html#desorb">desorption command</a> is used without the "max" keyword then any number of atoms can be deleted at once.</p>
<hr  />
<h1><a class="anchor" id="minprior"></a>
minimize_prior command</h1>
<h2><a class="anchor" id="minprior_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">minimize_prior arg values</div>
</div><!-- fragment --><ul>
<li>(REQUIRED) arg = <b>no</b> or <b>yes</b></li>
</ul>
<div class="fragment"><div class="line">no values = none</div>
<div class="line">yes values = command</div>
<div class="line">    command = valid LAMMPS minimization command (e.g., minimize).</div>
</div><!-- fragment --><h2><a class="anchor" id="minprior_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">minimize_prior yes minimize 1.0e-3 1.0e-5 100 1000</div>
<div class="line">minimize_prior no</div>
</div><!-- fragment --><h2><a class="anchor" id="minprior_description"></a>
Description</h2>
<p>Defines a minimization command to be executed within the MD stage of the PAPRECA run and before simulating the MD trajectory. This command might be helpful to relax the system to the closest Potential Energy Surface (PES) valley and avoid instabilities [1], [2] within the MD trajectory (e.g., "bond atoms missing from proc %d" errors (see <a href="https://www.afs.enea.it/software/lammps/doc17/html/Section_errors.html">LAMMPS documentation page</a>). Please see the relevant LAMMPS documentation page for the <a href="https://docs.lammps.org/minimize.html">minimize command</a> for more information.</p>
<p>When the "yes" keyword is utilized, the user has to provide a valid LAMMPS minimization command. Note that, PAPRECA will not check if the command is valid before the start of the simulation but will probably abort during runtime. Moreover, note that any valid LAMMPS command can be passed to PAPRECA with this command.</p>
<blockquote class="doxtable">
<p><b>Note:</b> A LAMMPS minimization style has to be defined in the LAMMPS input file (see <a href="https://docs.lammps.org/min_style.html">min_style</a> for more information regarding minimization styles). </p>
</blockquote>
<h2><a class="anchor" id="minprior_default"></a>
Default</h2>
<p>No minimization prior to the MD trajectory is performed if this command is not included in the PAPRECA input file.</p>
<h2><a class="anchor" id="minprior_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="minafter"></a>
minimize_after command</h1>
<h2><a class="anchor" id="minafter_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">minimize_after arg values</div>
</div><!-- fragment --><ul>
<li>(REQUIRED) arg = <b>no</b> or <b>yes</b></li>
</ul>
<div class="fragment"><div class="line">no values = none</div>
<div class="line">yes values = command</div>
<div class="line">    command = valid LAMMPS minimization command (e.g., minimize).</div>
</div><!-- fragment --><h2><a class="anchor" id="minafter_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">minimize_after yes minimize 1.0e-3 1.0e-5 100 1000</div>
<div class="line">minimize_after no</div>
</div><!-- fragment --><h2><a class="anchor" id="minafter_description"></a>
Description</h2>
<p>Defines a minimization command to be executed within the MD stage of the PAPRECA run and right after simulating the MD trajectory. This command might be helpful to relax the system to the closest Potential Energy Surface (PES) valley and avoid instabilities [1], [2] within the MD trajectory (e.g., "bond atoms missing from proc %d" errors (see <a href="https://www.afs.enea.it/software/lammps/doc17/html/Section_errors.html">LAMMPS documentation page</a>). Please see the relevant LAMMPS documentation page for the <a href="https://docs.lammps.org/minimize.html">minimize command</a> for more information.</p>
<p>When the "yes" keyword is utilized, the user has to provide a valid LAMMPS minimization command. Note that, PAPRECA will not check if the command is valid before the start of the simulation but will probably abort during runtime. Moreover, note that any valid LAMMPS command can be passed to PAPRECA with this command.</p>
<blockquote class="doxtable">
<p><b>Note:</b> A LAMMPS minimization style has to be defined in the LAMMPS input file (see <a href="https://docs.lammps.org/min_style.html">min_style</a> for more information regarding minimization styles). </p>
</blockquote>
<h2><a class="anchor" id="minafter_default"></a>
Default</h2>
<p>No minimization after the MD trajectory is performed if this command is not included in the PAPRECA input file.</p>
<h2><a class="anchor" id="minafter_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="trajdur"></a>
trajectory_duration command</h1>
<h2><a class="anchor" id="trajdur_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">trajectory_duration N</div>
</div><!-- fragment --><ul>
<li>N = double number denoting the duration of the MD stage.</li>
</ul>
<h2><a class="anchor" id="trajdur_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">trajectory_duration 1000</div>
<div class="line">trajectory_duration 0</div>
</div><!-- fragment --><h2><a class="anchor" id="trajdur_description"></a>
Description</h2>
<p>Sets the duration of the MD stage of the PAPRECA run. This represents how many MD timesteps will be simulated by LAMMPS during each MD stage. The trajectory duration can be 0 (means that PAPRECA will perform a pure off-lattice kMC run).</p>
<h2><a class="anchor" id="trajdur_default"></a>
Default</h2>
<p>trajectory_duration = 0.</p>
<hr  />
<h1><a class="anchor" id="createBreak"></a>
create_BondBreak command</h1>
<h2><a class="anchor" id="createBreak_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">create_BondBreak atom1_type atom2_type bond_type arg values keyword values</div>
</div><!-- fragment --><ul>
<li>atom1_type = atom type of the first atom.</li>
<li>atom2_type = atom type of the second atom.</li>
<li>bond_type = bond type associated with the bond between atom types 1 and 2.</li>
<li>(REQUIRED) arg = <b>rate_manual</b> or <b>rate_arrhenius</b></li>
</ul>
<div class="fragment"><div class="line">rate_manual values = rate</div>
<div class="line">    rate = bond-breaking rate in 1/s (Hz)</div>
<div class="line">rate_arrhenius values = energy frequency temperature</div>
<div class="line">    energy = activation energy in kcal/mol.</div>
<div class="line">    frequency = attempt frequency in 1/s (Hz).</div>
<div class="line">    temperature = temperature in K.</div>
</div><!-- fragment --><ul>
<li>(OPTIONAL) keyword = <b>catalyzed</b> or/and <b>limit</b></li>
</ul>
<div class="fragment"><div class="line">catalyzed values = N type1 type2 ... typeN</div>
<div class="line">    N = total number of catalyzing types</div>
<div class="line">    type = atom type that catalyzes the bond-breaking event.</div>
<div class="line">limit values = length_equil length_perc</div>
<div class="line">    length_equil = User-defined assumed equilibrium bond length for that specific bond-breaking event.</div>
<div class="line">    length_perc = Percentage over length_equil ( 0.0 &lt; length_perc &lt; 1.0 )</div>
</div><!-- fragment --><h2><a class="anchor" id="createBreak_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">create_BondBreak 4 5 7 rate_arrhenius 13.68 6.99e10 528.15 catalyzed 2 1 8 </div>
<div class="line">create_BondBreak 1 2 5 rate_manual 1.0e13</div>
</div><!-- fragment --><h2><a class="anchor" id="createBreak_description"></a>
Description</h2>
<p>Create a predefined bond-break template (see <a class="el" href="classPAPRECA_1_1PredefinedReaction.html" title="class associated with reaction events. This is a Predefined template for PAPRECA::BondBreak and PAPRE...">PAPRECA::PredefinedReaction</a> and <a class="el" href="classPAPRECA_1_1BondBreak.html" title="child of PAPRECA::Reaction dedicated to bond-breaking events.">PAPRECA::BondBreak</a>) for the kMC stage of the PAPRECA run. Note that, for the kMC event to function properly, you have to explicitly declare the <a href="https://docs.lammps.org/bond_style.html">bond_style</a> (typically harmonic) along with the relevant <a href="https://docs.lammps.org/bond_coeff.html">bond_coeff</a> in your LAMMPS input file.</p>
<p>On every kMC stage, PAPRECA will attempt to remove bonds with a given probability (based on the chosen rate). Bonds are removed from the system by calling the <a class="el" href="namespacePAPRECA.html#aba31ac4603f1387a35ed9487a8336f89">PAPRECA::deleteBond()</a> LAMMPS wrapper function and the <a class="el" href="namespacePAPRECA.html#a754a149e2f81133e94cdf0368353e69c">executeBondBreak()</a> function of the <a class="el" href="papreca_8cpp.html" title="Driver function. Initializes MPI, LAMMPS, and PAPRECA. Then runs kMC/MD loops.">papreca.cpp</a> driver code.</p>
<p>You can provide the bond-breaking rate manually or input the activation energy, attempt frequency, and temperature of that kMC event to obtain the corresponding rate from the Arrhenius equation (see <a class="el" href="rates__calc_8h.html" title="Includes functions used to calculate the rates of predefined events. All functions return rates in Hz...">rates_calc.h</a> <a class="el" href="rates__calc_8cpp.html" title="Function definitions for rates_calc.h.">rates_calc.cpp</a>, and <a class="el" href="namespacePAPRECA.html#aeb7dd52129e064c670d344280f1d4fbf">PAPRECA::getRateFromArrhenius()</a> ).</p>
<p>When the catalyzed keyword is used, the bond-breaking event can be selected and executed (within the kMC stage of the PAPRECA run) only if at least one atom of the specified atom type is present in the full neighbor list of the parent atom (i.e., the atom on which the bond-breaking was discovered). Note that, PAPRECA will not check if the provided catalyzing atom type is valid (i.e., exists in your simulation and has been defined in the LAMMPS input file). Also, note that the bond-breaking probabilities will be influenced by any settings related to the building and updating of the neighbor lists. For example, if your pair_style cutoff is too small, then fewer "catalyzing" types will be in the neighborhood of the parent atom.</p>
<p>When the limit keyword is used, bond-breaking events are only valid if the current distance between bonded atoms obeys the following inequality: (1-length_perc) * length_equil &lt;= (1+length_perc) * length_equil. Careful, to avoid bond-missing errors it is suggested that the length_equil variable is set to the equilibrium bond length as defined in the LAMMPS input file.</p>
<blockquote class="doxtable">
<p><b>Note 1:</b> In the current version each pair of atom types (e.g., type 1 and type 2) and their corresponding bond (e.g., bond type 5 for atom types 1 and 2) are allowed to be associated with only one predefined bond-breaking template. </p>
</blockquote>
<blockquote class="doxtable">
<p><b>Note 2:</b> PAPRECA uses a dummy group with id=1 to perform bond deletions (see this LAMMPS wrapper function for more information <a class="el" href="namespacePAPRECA.html#aba31ac4603f1387a35ed9487a8336f89">PAPRECA::deleteBond()</a>), which means that you should <b>NOT</b> use this bond id to define some another bonded interaction. Please see the "kmc.lmp" file located in ./Examples/Phosphate Film Growth from TCP on Fe110/ for an example demonstrating how you can define multiple bond types. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="createForm"></a>
create_BondForm command</h1>
<h2><a class="anchor" id="createForm_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">create_BondForm atom1_type atom2_type bond_dist delete_atoms lone_candidates same_mol arg values</div>
</div><!-- fragment --><ul>
<li>atom1_type = atom type of the first atom.</li>
<li>atom2_type = atom type of the second atom.</li>
<li>bond_type = bond type associated with the bond between atom types 1 and 2.</li>
<li>bond_dist = bonding distance (in length units as defined in LAMMPS). The bonding event is valid if the distance between the two atoms is equal to or smaller than bond_dist.</li>
<li>delete_atoms = <b>yes</b> (delete both atoms after the bond-formation event is executed) or <b>no</b>.</li>
<li>lone_candidates = <b>yes</b> (the bond-formation event is valid only if bond candidates have no bonds with other atoms in the system) or <b>no</b>.</li>
<li>same_mol = <b>yes</b> (the bond-formation event is valid only if both atoms are associated with different mol IDs).</li>
<li>(REQUIRED) arg = <b>rate_manual</b> or <b>rate_arrhenius</b></li>
</ul>
<div class="fragment"><div class="line">rate_manual values = rate</div>
<div class="line">    rate = bond-formation rate in 1/s (Hz)</div>
<div class="line">rate_arrhenius values = energy frequency temperature</div>
<div class="line">    energy = activation energy in kcal/mol.</div>
<div class="line">    frequency = attempt frequency in 1/s (Hz).</div>
<div class="line">    temperature = temperature in K.</div>
</div><!-- fragment --><ul>
<li>(OPTIONAL) keyword = <b>catalyzed</b></li>
</ul>
<div class="fragment"><div class="line">catalyzed values = N type1 type2 ... typeN</div>
<div class="line">    N = total number of catalyzing types</div>
<div class="line">    type = atom type that catalyzes the bond-breaking event.</div>
</div><!-- fragment --><h2><a class="anchor" id="createForm_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">create_BondForm 5 4 8 3.7588562 no no no rate_manual 1.0e13</div>
<div class="line">create_BondForm 4 4 12 3.4045958 yes no yes rate_manual 1.0e13</div>
<div class="line">create_BondForm 5 6 9 3.7588562 no no no rate_arrhenius 13.0 1.0e13 500</div>
</div><!-- fragment --><h2><a class="anchor" id="createForm_description"></a>
Description</h2>
<p>Create a predefined bond-formation template (see <a class="el" href="classPAPRECA_1_1PredefinedBondForm.html" title="child class of PAPRECA::PredefinedReaction associated with bond formation events. This is a Predefine...">PAPRECA::PredefinedBondForm</a> and <a class="el" href="classPAPRECA_1_1BondForm.html" title="child of PAPRECA::Reaction dedicated to bond formation events.">PAPRECA::BondForm</a>) for the kMC stage of the PAPRECA run. Note that, for the kMC event to function properly, you have to explicitly declare the <a href="https://docs.lammps.org/bond_style.html">bond_style</a> (typically harmonic) along with the relevant <a href="https://docs.lammps.org/bond_coeff.html">bond_coeff</a> in your LAMMPS input file. PAPRECA does not permit the formation of two bonds between exactly the same atoms. If you wish to create a "double" bond consider defining an additional bond type whose coefficients are representative of a "double" bond.</p>
<p>On every kMC stage, PAPRECA will attempt to create the bond (as defined in the template) with a given probability (based on the chosen rate). Bonds are created by calling <a class="el" href="namespacePAPRECA.html#a966bd260b33d537244347d34ce6a0932">PAPRECA::formBond()</a> LAMMPS wrapper function and the <a class="el" href="namespacePAPRECA.html#a3924341e4daa6083c6306129b8815994">executeBondForm()</a> function of the <a class="el" href="papreca_8cpp.html" title="Driver function. Initializes MPI, LAMMPS, and PAPRECA. Then runs kMC/MD loops.">papreca.cpp</a> driver code.</p>
<p>You can provide the bond-formation rate manually or input the activation energy, attempt frequency, and temperature of that kMC event to obtain the corresponding rate from the Arrhenius equation (see <a class="el" href="rates__calc_8h.html" title="Includes functions used to calculate the rates of predefined events. All functions return rates in Hz...">rates_calc.h</a> <a class="el" href="rates__calc_8cpp.html" title="Function definitions for rates_calc.h.">rates_calc.cpp</a>, and <a class="el" href="namespacePAPRECA.html#aeb7dd52129e064c670d344280f1d4fbf">PAPRECA::getRateFromArrhenius()</a> ).</p>
<p>For more information regarding the catalyzed option please see <a class="el" href="md_commands.html#createBreak">create_BondBreak command</a>.</p>
<blockquote class="doxtable">
<p><b>Note:</b> In the current version each pair of atom types (e.g., type 1 and type 2) and their corresponding bond (e.g., bond type 5 for atom types 1 and 2) are allowed to be associated with only one predefined bond-forming template. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="maxbonds"></a>
species_maxbonds command</h1>
<h2><a class="anchor" id="maxbonds_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">species_maxbonds N M</div>
</div><!-- fragment --><ul>
<li>N = atom type.</li>
<li>M = maximum number of bonds</li>
</ul>
<h2><a class="anchor" id="maxbonds_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">species_maxbonds 2 5 #Limits the maximum number of bonds for atom type 2 to 5.</div>
</div><!-- fragment --><h2><a class="anchor" id="maxbonds_description"></a>
Description</h2>
<p>Sets a maximum number of bonds for a specific atom type. This command can be useful to prevent "overbonding" in PAPRECA studies involving bond-formation events.</p>
<h2><a class="anchor" id="maxbonds_default"></a>
Default</h2>
<p>The maximum number of bonds of a species is unlimited if the user does not include this command in the PAPRECA input file.</p>
<hr  />
<h1><a class="anchor" id="maxbondtypes"></a>
species_maxbondtypes command</h1>
<h2><a class="anchor" id="maxbondtypes_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">species_maxbondtypes N M K</div>
</div><!-- fragment --><ul>
<li>N = atom type.</li>
<li>M = bond type.</li>
<li>K = maximum number of bonds</li>
</ul>
<h2><a class="anchor" id="maxbondtypes_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">species_maxbonds 7 3 2 #Limits the maximum number of bonds of type 3 for atom type 7 to 2.</div>
</div><!-- fragment --><h2><a class="anchor" id="maxbondtypes_description"></a>
Description</h2>
<p>Sets a maximum number of bonds of a specific bond type for a specific atom type. This command can be useful to prevent "overbonding" in PAPRECA studies involving bond-formation events.</p>
<h2><a class="anchor" id="maxbondtypes_default"></a>
Default</h2>
<p>The maximum number of bonds of a specific bond type for a specific atom species is unlimited if the user does not include this command in the PAPRECA input file.</p>
<hr  />
<h1><a class="anchor" id="createDepo"></a>
create_Deposition command</h1>
<h2><a class="anchor" id="createDepo_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">create_Deposition parent_type depo_offset insertion_vel adsorbate_name arg values keyword values</div>
</div><!-- fragment --><ul>
<li>parent_type = atom type of parent atom (i.e., atom on which the event is detected).</li>
<li>depo_offset = double number denoting the distance (in length units as in LAMMPS) between the parent atom and the center of mass (COM) of the deposited molecule.</li>
<li>insertion_vel = double number denoting the velocity (in velocity units as in LAMMPS) of the inserted molecule.</li>
<li>adsobate_name = name of adsorbate (this name has to be INDENTICAL to the molecule name as declared in the LAMMPS input file).</li>
<li>(REQUIRED) arg = <b>rate_manual</b> or <b>rate_arrhenius</b> or <b>rate_hertz</b></li>
</ul>
<div class="fragment"><div class="line">rate_manual values = rate</div>
<div class="line">    rate = deposition rate in 1/s (Hz)</div>
<div class="line">rate_arrhenius values = energy frequency temperature</div>
<div class="line">    energy = activation energy in kcal/mol.</div>
<div class="line">    frequency = attempt frequency in 1/s (Hz).</div>
<div class="line">    temperature = temperature in K.</div>
<div class="line">rate_hertz values = pressure area mass temperature</div>
<div class="line">    pressure = partial pressure in Bar.</div>
<div class="line">    area = adsorption site area in Angstroms^2.</div>
<div class="line">    mass = molecule (particle) mass in g/mol.</div>
<div class="line">    temperature = adsorption temperature in K.</div>
</div><!-- fragment --><ul>
<li>(OPTIONAL) keyword = sticking_coeff</li>
</ul>
<div class="fragment"><div class="line">sticking_coeff values = variable or constant</div>
<div class="line">    constant value = double (fixed greater than zero and smaller than or equal to 1.0) number for the sticking coefficient of all deposition events involving the same adsorbate (i.e., defined by the same adsorbate_name).</div>
<div class="line">    variable value = none</div>
</div><!-- fragment --><h2><a class="anchor" id="createDepo_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">create_Deposition 4 3.13315 0.0 mmmTCP rate_hertz 0.0001 7.640648 368.37 528.15 sticking_coeff variable</div>
<div class="line">create_Deposition 1 3.503 0.001 particle rate_manual 1.0 sticking_coeff constant 1</div>
</div><!-- fragment --><h2><a class="anchor" id="createDepo_description"></a>
Description</h2>
<p>Create a predefined deposition template (see <a class="el" href="classPAPRECA_1_1PredefinedDeposition.html" title="class associated with deposition events. This is a Predefined template for PAPRECA::Deposition events...">PAPRECA::PredefinedDeposition</a> and <a class="el" href="classPAPRECA_1_1Deposition.html" title="Child of PAPRECA::Event dedicated to monoatomic or molecular adsorption.">PAPRECA::Deposition</a>) for the kMC stage of the PAPRECA run. This command will only work properly if you have previously defined a molecule template (i.e., you have prepared a separate molecule file and you have used the molecule command in your LAMMPS input file. See this part of the <a href="https://docs.lammps.org/molecule.html">LAMMPS documentation</a> for more information.</p>
<p>On every kMC stage, PAPRECA will attempt to insert a molecule in the system with a given probability (based on the chosen rate). Molecules are inserted in the system by calling the <a class="el" href="namespacePAPRECA.html#a34f5870cc2a2414627a5a287c6126e1b">PAPRECA::insertMolecule()</a> LAMMPS wrapper function and the <a class="el" href="namespacePAPRECA.html#a7fff448209462c35af4f5ac8e82c2a41">executeDeposition()</a> function of the <a class="el" href="papreca_8cpp.html" title="Driver function. Initializes MPI, LAMMPS, and PAPRECA. Then runs kMC/MD loops.">papreca.cpp</a> driver code. Note that, the deposition candidate coordinates coincide with the geometric center of the molecule (as defined in the LAMMPS input file).</p>
<p>For sticking_coeff = constant the user must select a constant sticking coefficient value. The sticking coefficient value will remain unchanged (as set) throughout the simulation. Conversely, if sticking_coeff = variable, then the sticking coefficient is dynamically calculated by dividing the number of available (collision-free) deposition sites by the total number of sites (occupied and collision-free) [1] , [2]. Note that, if you have defined multiple deposition events with the same adsorbate_name (e.g., mmmTCP), then PAPRECA will assume that the adsorption sites of all such events are identical and will assign/calculate an identical sticking coefficient.</p>
<p>You can provide the deposition rate manually or input the activation energy, attempt frequency, and temperature of that kMC event to obtain the corresponding rate from the Arrhenius equation (see <a class="el" href="rates__calc_8h.html" title="Includes functions used to calculate the rates of predefined events. All functions return rates in Hz...">rates_calc.h</a> <a class="el" href="rates__calc_8cpp.html" title="Function definitions for rates_calc.h.">rates_calc.cpp</a>, and <a class="el" href="namespacePAPRECA.html#aeb7dd52129e064c670d344280f1d4fbf">PAPRECA::getRateFromArrhenius()</a> ). For predefined deposition events the rate can also be calculated from the kinetic theory of gases (Hertz-Knudsen equation). Please see this function <a class="el" href="namespacePAPRECA.html#a0c4881652e0b8fd36ca85099ba454ea8">PAPRECA::getDepoRateFromHertzKnudsen()</a> and <a href="https://chem.libretexts.org/Bookshelves/Physical_and_Theoretical_Chemistry_Textbook_Maps/Surface_Science_(Nix)/02%3A_Adsorption_of_Molecules_on_Surfaces/2.03%3A_Kinetics_of_Adsorption">here</a> for a brief theoretical background.</p>
<blockquote class="doxtable">
<p><b>Note:</b> In the current version each parent atom (e.g., type 1) is allowed to be associated with only one predefined deposition template. However, different atom types can be associated with the same adsorbate_name (in separate deposition templates). See the phosphates example located in (./Examples/Phosphate Film Growth from TCP on Fe110). </p>
</blockquote>
<h2><a class="anchor" id="createDepo_defaults"></a>
Default</h2>
<p>If the sticking_coeff keyword is not used, then the predefined deposition event will be initialized with variable sticking coefficients.</p>
<h2><a class="anchor" id="createDepo_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="depovecs"></a>
random_depovecs command</h1>
<h2><a class="anchor" id="depovecs_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">random_depovecs arg values</div>
</div><!-- fragment --><ul>
<li>(REQUIRED) arg = <b>no</b> or <b>yes</b></li>
</ul>
<div class="fragment"><div class="line">no values = none.</div>
<div class="line">yes values = none.</div>
</div><!-- fragment --><h2><a class="anchor" id="depovecs_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">random_depovecs no</div>
<div class="line">random_depovecs yes</div>
</div><!-- fragment --><h2><a class="anchor" id="depovevecs_description"></a>
Description</h2>
<p>When random_depovecs are not activated (i.e., random_depovecs = no) the center of mass (COM) of any deposited molecule is located directly above the parent atom (i.e., the atom on which searches for kMC events are performed) and at a distance of depo_offset (see <a class="el" href="md_commands.html#createDepo">create_Deposition command</a>).</p>
<p>When random_depovecs are activated (i.e., random_depovecs = yes) the COM of any deposited molecule is located on the surface of the upper hemisphere (i.e., along the +z-direction) of a sphere centered on the parent atom. The exact position of the COM is determined randomly (by drawing a random number, see <a class="el" href="namespacePAPRECA.html#a718c21fac41226c4ed632b307b967aeb">getDepoPointCandidateCoords()</a> for more information).</p>
<blockquote class="doxtable">
<p><b>Note:</b> In the current version deposition candidates are always placed above the parent atom. This means that you cannot use this version to place a molecule underneath the parent atom. Hence, you cannot get a film growing towards -z. </p>
</blockquote>
<h2><a class="anchor" id="depovecs_default"></a>
Default</h2>
<p>random_depovecs = no</p>
<hr  />
<h1><a class="anchor" id="depoheights"></a>
depoheights command</h1>
<h2><a class="anchor" id="depoheights_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">depoheights height_scan height_reject</div>
</div><!-- fragment --><ul>
<li>height_scan = double number denoting the scan range (in LAMMPS length units) for all deposition events.</li>
<li>height_reject = double number denoting the rejection height (in LAMMPS length units) for all deposition events.</li>
</ul>
<h2><a class="anchor" id="depoheights_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">depoheights 5 20</div>
</div><!-- fragment --><h2><a class="anchor" id="depoheights_description"></a>
Description</h2>
<p>Set limits for discovering deposition events (see <a class="el" href="md_commands.html#createDepo">create_Deposition command</a>) in the kMC stage of the PAPRECA run. Note that, those limitations are applied to all deposition events defined in the simulation. Specifically, $PAPRECA scans for deposition events between film_height - height_scan and film_height + height scan and rejects deposition candidates above film_height + height_reject.</p>
<blockquote class="doxtable">
<p><b>Note:</b> Prior to using this command you must set up a height calculation for your PAPRECA simulation (i.e., a <a class="el" href="md_commands.html#height_calculation">height_calculation command</a> must be present in your PAPRECA above the current command line). </p>
</blockquote>
<h2><a class="anchor" id="depoheights_default"></a>
Default</h2>
<p>Deposition scans are not limited to a distance above/below the current film height if the user does not include this command in the PAPRECA input file.</p>
<hr  />
<h1><a class="anchor" id="createDiff"></a>
create_DiffusionHop command</h1>
<h2><a class="anchor" id="createDiff_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">create_DiffusionHop parent_type diff_vel diff_dist displacive diffused_type arg values keyword values</div>
</div><!-- fragment --><ul>
<li>parent_type = atom type of parent atom (i.e., atom on which the event is detected).</li>
<li>diff_vel = double number denoting the velocity (in velocity units as in LAMMPS) of the diffused atom.</li>
<li>diff_dist = double number denoting the Eucledian distance (in length units as in LAMMPS) between the parent atom and the vacant site.</li>
<li>displacive = <b>yes</b> (if the parent atom is displaced) or <b>no</b> if the parent atom remains intact and a new atom is placed on the vacant site.</li>
<li>diffused_type = atom type of diffused atom.</li>
<li>(REQUIRED) arg = <b>rate_manual</b> or <b>rate_arrhenius</b></li>
</ul>
<div class="fragment"><div class="line">rate_manual values = rate</div>
<div class="line">    rate = diffusion rate in 1/s (Hz)</div>
<div class="line">rate_arrhenius values = energy frequency temperature</div>
<div class="line">    energy = activation energy in kcal/mol.</div>
<div class="line">    frequency = attempt frequency in 1/s (Hz).</div>
<div class="line">    temperature = temperature in K.</div>
</div><!-- fragment --><ul>
<li>(OPTIONAL) keyword = custom</li>
</ul>
<div class="fragment"><div class="line">custom values = Fe_4PO4neib</div>
<div class="line">    Fe_4PO4neib values = N Ptype</div>
<div class="line">        N = has to be equal to 1</div>
<div class="line">        Ptype = atom type number of the Phosphorus type in the simulation.</div>
</div><!-- fragment --><h2><a class="anchor" id="createDiff_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">create_DiffusionHop 1 0.0 4.14468 no 8 rate_arrhenius 11.53 1.4e13 528.15 custom Fe_4PO4neib 1 5</div>
<div class="line">create_DiffusionHop 1 0.0 3 yes 1 rate_manual 1.0e13</div>
</div><!-- fragment --><h2><a class="anchor" id="createDiff_description"></a>
Description</h2>
<p>Create a predefined diffusion hop template (see <a class="el" href="classPAPRECA_1_1PredefinedDiffusionHop.html" title="class associated with diffusion events. This is a Predefined template for PAPRECA::DiffusionHop event...">PAPRECA::PredefinedDiffusionHop</a> and <a class="el" href="classPAPRECA_1_1Diffusion.html" title="child of PAPRECA::Event class dedicated to diffusion events.">PAPRECA::Diffusion</a>) for the kMC stage of the PAPRECA run. A "displacive" diffusion template (i.e., displacive = "yes" ), means that the parent atom moves from its initial position to the position of the vacant site. Conversely, a "non-displacive" diffusion template (i.e., displacive = "no" ), means that the parent atom does not move and that a new atom is inserted on the vacant site. Note that, in the current version of PAPRECA, the inserted atom has zero charge and zero velocity.</p>
<p>On every kMC stage, PAPRECA will attempt to move ("displacive" templates) or insert ("non-displacive" templates) an atom in the system with a given probability (based on the chosen rate). Atoms are diffused in the system by calling the <a class="el" href="namespacePAPRECA.html#aac95c403da9b1d379b60a70660143d6e">PAPRECA::diffuseAtom()</a> LAMMPS wrapper function and the <a class="el" href="namespacePAPRECA.html#aa9ddeceea3f3c1149b1c9de6b12c84b7">executeDiffusion()</a> function of the <a class="el" href="papreca_8cpp.html" title="Driver function. Initializes MPI, LAMMPS, and PAPRECA. Then runs kMC/MD loops.">papreca.cpp</a> driver code.</p>
<p>If the custom template "Fe_4PO4neib" is used (see example above for syntax), then diffusion events require at least four PO4 structures in their neighborhood to be valid. A PO4 structure consists of Phosphorus atom which is bonded (with an explicit bonded interaction) to four Oxygen atoms. The "Fe_4PO4neib" custom template performs searches on the neighbor list of the parent atom. Also, note that the diffusion probabilities will be influenced by any settings related to the building and updating of the neighbor lists. For example, if your pair_style cutoff is too small, then fewer PO4 structures will be in the neighborhood of the parent atom. The "Fe_4PO4neib" custom template was created to cover the needs of a very specific application related to the formation and growth of thin film from tricresyl phosphate (TCP) molecules on an iron Fe110 surface [1] , [2].</p>
<p>You can provide the diffusion rate manually or input the activation energy, attempt frequency, and temperature of that kMC event to obtain the corresponding rate from the Arrhenius equation (see <a class="el" href="rates__calc_8h.html" title="Includes functions used to calculate the rates of predefined events. All functions return rates in Hz...">rates_calc.h</a> <a class="el" href="rates__calc_8cpp.html" title="Function definitions for rates_calc.h.">rates_calc.cpp</a>, and <a class="el" href="namespacePAPRECA.html#aeb7dd52129e064c670d344280f1d4fbf">PAPRECA::getRateFromArrhenius()</a> ).</p>
<blockquote class="doxtable">
<p><b>Note:</b> In the current version each parent atom (e.g., type 1) is allowed to be associated with only one predefined diffusion template. </p>
</blockquote>
<h2><a class="anchor" id="createDiff_bibliography"></a>
Bibliography</h2>
<p>[1] Ntioudis, S., et al. "PAPRECA: A parallel hybrid off-lattice kinetic Monte Carlo/molecular dynamics simulator", Journal of Open Source Software, 9(98), 6714 (2024). <a href="https://doi.org/10.21105/joss.06714">https://doi.org/10.21105/joss.06714</a></p>
<p>[2] Ntioudis, S., et al. "A hybrid off-lattice kinetic Monte Carlo/molecular dynamics method for amorphous thin film growth", Computational Materials Science, 229, 112421 (2023). <a href="https://doi.org/10.1016/j.commatsci.2023.112421">https://doi.org/10.1016/j.commatsci.2023.112421</a></p>
<hr  />
<h1><a class="anchor" id="diffvecs"></a>
random_diffvecs command</h1>
<h2><a class="anchor" id="diffvecs_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">random_diffvecs arg values</div>
</div><!-- fragment --><ul>
<li>(REQUIRED) arg = <b>no</b> or <b>yes</b></li>
</ul>
<div class="fragment"><div class="line">no values = 2D or 3D</div>
<div class="line">    2D = for diffusion sites located only directly above the parent atom.</div>
<div class="line">    3D = for diffusion sites located above as well as below the parent atom.</div>
<div class="line">yes values = 2D or 3D</div>
</div><!-- fragment --><h2><a class="anchor" id="diffvecs_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">random_diffvecs no</div>
<div class="line">random_diffvecs no 2D</div>
<div class="line">random_diffvecs yes 3D</div>
</div><!-- fragment --><h2><a class="anchor" id="diffvecs_description"></a>
Description</h2>
<p>When the "2D" option is used diffusion sites (i.e., locations towards which the atoms migrate) can only be located above the parent atom (i.e., the atom on which searches for kMC events are performed). This means that atoms will solely diffuse towards the +z-direction. When the "3D" option is used diffusion sites can be located above as well as below the parent atom.</p>
<p>When random_diffvecs are not activated (i.e., random_diffvecs = no) diffusion sites will be directly above/below (depending on whether the "2D" or "3D" options were used) and at a distance of diff_dist (see <a class="el" href="md_commands.html#createDiff">create_DiffusionHop command</a>).</p>
<p>When random_diffvecs are activated (i.e., random_diffvecs = yes ) diffusion sites will be located on the surface of a sphere centered on the parent atom. The exact position of the COM is selected randomly (by drawing a random number, see <a class="el" href="namespacePAPRECA.html#a3b4a24624cabf326e4d4ebde3247f874">getDiffPointCandidateCoords()</a> for more information).</p>
<h2><a class="anchor" id="diffvecs_default"></a>
Default</h2>
<p>random_diffvecs = no</p>
<hr  />
<h1><a class="anchor" id="createMonodes"></a>
create_MonoatomicDesorption command</h1>
<h2><a class="anchor" id="createMonodes_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">create_MonoatomicDesorption parent_type arg values</div>
</div><!-- fragment --><ul>
<li>parent_type = atom type of parent atom (i.e., atom on which the event is detected).</li>
<li>(REQUIRED) arg = <b>rate_manual</b> or <b>rate_arrhenius</b></li>
</ul>
<div class="fragment"><div class="line">rate_manual values = rate</div>
<div class="line">    rate = monoatomic desorption rate in 1/s (Hz)</div>
<div class="line">rate_arrhenius values = energy frequency temperature</div>
<div class="line">    energy = activation energy in kcal/mol.</div>
<div class="line">    frequency = attempt frequency in 1/s (Hz).</div>
<div class="line">    temperature = temperature in K.</div>
</div><!-- fragment --><h2><a class="anchor" id="createMonodes_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">create_MonoatomicDesorption 2 rate_manual 1.0e13</div>
<div class="line">create_MonoatomicDesorption 5 rate_arrhenius 30 1.0e13 1000</div>
</div><!-- fragment --><h2><a class="anchor" id="createMonodes_description"></a>
Description</h2>
<p>Create a monoatomic desorption template (see <a class="el" href="classPAPRECA_1_1PredefinedMonoatomicDesorption.html" title="associated with monoatomic desorption events. This is a Predefined template for PAPRECA::MonoatomicDe...">PAPRECA::PredefinedMonoatomicDesorption</a> and <a class="el" href="classPAPRECA_1_1MonoatomicDesorption.html" title="child of PAPRECA::Event dedicated to monoatomic desorption events (i.e., where a single atom is eject...">PAPRECA::MonoatomicDesorption</a>) for the kMC stage of the PAPRECA run. Note that, in the current PAPRECA version monoatomic desorption can only occur if the candidate atom is lone (i.e., has no explicit bonds with any other system atom).</p>
<p>On every kMC stage, PAPRECA will attempt to delete a single atom from the system with a given probability (based on the chosen rate). Atoms are desorbed in the system by calling the PAPRECA::deletAtoms() LAMMPS wrapper function and the <a class="el" href="namespacePAPRECA.html#a3cccc48885c78fa48bef84af2cfea519">executeMonoatomicDesorption()</a> function of the <a class="el" href="papreca_8cpp.html" title="Driver function. Initializes MPI, LAMMPS, and PAPRECA. Then runs kMC/MD loops.">papreca.cpp</a> driver code.</p>
<p>You can provide the monoatomic desorption rate manually or input the activation energy, attempt frequency, and temperature of that kMC event to obtain the corresponding rate from the Arrhenius equation (see <a class="el" href="rates__calc_8h.html" title="Includes functions used to calculate the rates of predefined events. All functions return rates in Hz...">rates_calc.h</a> <a class="el" href="rates__calc_8cpp.html" title="Function definitions for rates_calc.h.">rates_calc.cpp</a>, and <a class="el" href="namespacePAPRECA.html#aeb7dd52129e064c670d344280f1d4fbf">PAPRECA::getRateFromArrhenius()</a> ).</p>
<blockquote class="doxtable">
<p><b>Note:</b> In the current version each parent atom (e.g., type 1) is allowed to be associated with only one monoatomic desorption template. </p>
</blockquote>
<hr  />
<h1><a class="anchor" id="heightvtime"></a>
export_HeightVtime command</h1>
<h2><a class="anchor" id="heightvtime_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">export_HeightVtime N</div>
</div><!-- fragment --><ul>
<li>N = integer number denoting the print frequency (i.e., PAPRECA will print on the heightVtime.log file every N PAPRECA steps).</li>
</ul>
<h2><a class="anchor" id="heightVtime_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">export_HeightVtime 10</div>
<div class="line">export_HeightVtime 1000</div>
</div><!-- fragment --><h2><a class="anchor" id="heightVtime_description"></a>
Description</h2>
<p>Generates a file named "heightVtime.log" in the current directory of the PAPRECA run. The HeightVtime file comprises 2 columns. The first column lists the time (in seconds) of a PAPRECA step. The second column lists the height of the system (along the z-coordinate) in units consistent with the LAMMPS length units. PAPRECA will append to the HeightVtime file every N steps.</p>
<h2><a class="anchor" id="heightVtime_default"></a>
Default</h2>
<p>If this command is not used in your PAPRECA input file, no "heightVtime.log" file will be generated in your run PAPRECA run directory.</p>
<hr  />
<h1><a class="anchor" id="coverage"></a>
export_SurfaceCoverage command</h1>
<h2><a class="anchor" id="coverage_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">export_SurfaceCoverage N</div>
</div><!-- fragment --><ul>
<li>N = integer number denoting the print frequency (i.e., PAPRECA will print on the surface_coverage.log file every N PAPRECA steps).</li>
</ul>
<h2><a class="anchor" id="coverage_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">export_SurfaceCoverage 10</div>
<div class="line">export_SurfaceCoverage 1000</div>
</div><!-- fragment --><h2><a class="anchor" id="coverage_description"></a>
Description</h2>
<p>Generates a file named "surface_coverage.log" in the current directory of the PAPRECA run. The SurfaceCoverage file comprises 2 columns. The first column lists the time (in seconds) of a PAPRECA step. The second column lists the surface coverage, i.e., the number of occupied sites divided by the total number of sites in the system. Note that, the surface coverage is linked to the sticking coefficient of the deposition event (see <a class="el" href="md_commands.html#createDepo">create_Deposition command</a>).</p>
<p>PAPRECA will append to the SurfaceCoverage file every N steps.</p>
<h2><a class="anchor" id="coverage_default"></a>
Default</h2>
<p>If this command is not used in your PAPRECA input file, no "surface_coverage.log" file will be generated in your run PAPRECA run directory.</p>
<hr  />
<h1><a class="anchor" id="Edistributions"></a>
export_ElementalDistributions command</h1>
<h2><a class="anchor" id="Edistributions_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">export_ElementalDistributions N keyword values</div>
</div><!-- fragment --><ul>
<li>N = integer number denoting the print frequency (i.e., PAPRECA will generate a distribution.log file every N PAPRECA steps).</li>
<li>(OPTIONAL) keyword = bin_width values</li>
</ul>
<div class="fragment"><div class="line">bin_width values = width</div>
<div class="line">    width = width (across the z-direction) of the x-y slice used for the domain segmentation.</div>
</div><!-- fragment --><h2><a class="anchor" id="Edistributions_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">export_ElementalDistributions 10</div>
<div class="line">export_ElementalDistributions 1000 bin_width 1.0</div>
</div><!-- fragment --><h2><a class="anchor" id="Edistributions_description"></a>
Description</h2>
<p>Generates a file named distributions.log every N steps, in the current directory of the PAPRECA run. The first column of the distributions lists the height (in length units as in LAMMPS). The remaining columns list the number of atoms of each type (in each height-bin).</p>
<p>For more information regarding the x-y bins and the domain segmentation please refer to <a class="el" href="md_commands.html#height_calculation">height_calculation command</a>.</p>
<h2><a class="anchor" id="Edistributions_default"></a>
Default</h2>
<p>If this command is not used in your PAPRECA input file, no "distributions.log" files will be generated in your run PAPRECA run directory.</p>
<hr  />
<h1><a class="anchor" id="execution"></a>
export_ExecutionTimes command</h1>
<h2><a class="anchor" id="execution_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">export_ExecutionTimes N</div>
</div><!-- fragment --><ul>
<li>N = integer number denoting the print frequency (i.e., PAPRECA will print on the execTimes.log file every N PAPRECA steps).</li>
</ul>
<h2><a class="anchor" id="execution_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">export_ExecutionTimes 10</div>
<div class="line">export_ExecutionTimes 300</div>
</div><!-- fragment --><h2><a class="anchor" id="execution_description"></a>
Description</h2>
<p>Generates a file named "execTimes.log" in the current directory of the PAPRECA run. The execTimes file lists the minimum, average, and maximum wall times for the kMC, and MD stages. Note that the minimum, average, and maximum times will be equal if you choose to run the simulation on a single processor.</p>
<p>PAPRECA will append to the execTimes.log file every N steps.</p>
<blockquote class="doxtable">
<p><b>Note:</b> The total walltime (at the bottom of the execTimes.log file) is the sum of all the average times. Note that, if you choose a print frequency (N) different than 1, the reported total wall time will be smaller than the actual walltime. Nevertheless, the total walltime will be printed (by LAMMPS) in the console at the end of the run. </p>
</blockquote>
<h2><a class="anchor" id="execution_default"></a>
Default</h2>
<p>If this command is not used in your PAPRECA input file, no "execTimes.log" file will be generated in your run PAPRECA run directory.</p>
<hr  />
<h1><a class="anchor" id="restart"></a>
restart_freq command</h1>
<h2><a class="anchor" id="restart_syntax"></a>
Syntax</h2>
<div class="fragment"><div class="line">restart_freq N</div>
</div><!-- fragment --><ul>
<li>N = integer number denoting the restart dump frequency (i.e., PAPRECA will dump a restart file every N PAPRECA steps).</li>
</ul>
<h2><a class="anchor" id="restart_examples"></a>
Example(s)</h2>
<div class="fragment"><div class="line">restart_freq 10</div>
<div class="line">restart_freq 10000</div>
</div><!-- fragment --> <h2><a class="anchor" id="restart_description"></a>
Description</h2>
<p>Dump a LAMMPS restart file every N PAPRECA steps, in the current directory. The LAMMPS restart file can be used to restart a PAPRECA run. To restart a PAPRECA run, create a new LAMMPS input where you read a dumped LAMMPS restart file (i.e., <a href="https://docs.lammps.org/restart.html">read_restart</a> and start your run with that LAMMPS input file and the already used PAPRECA input file.</p>
<p>See the <a class="el" href="namespacePAPRECA.html#a9e44250e75f33137d882700ce79bcee6">PAPRECA::dumpRestart()</a> function for a brief explanation regarding the reason why the dumping of restart files has to be controlled by PAPRECA (and not directly from the LAMMPS input file).</p>
<h2><a class="anchor" id="restart_default"></a>
Default</h2>
<p>If this command is not used in your PAPRECA input file, no restart files will be generated in your run PAPRECA run directory. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
